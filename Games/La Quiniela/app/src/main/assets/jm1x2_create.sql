# para comentar una línea usar # al inicio y finalizar con punto y coma ;

DROP TABLE IF EXISTS equipos;                                 
DROP TABLE IF EXISTS equipos_temporada;                       
DROP TABLE IF EXISTS equipos_usuarios;                        
DROP TABLE IF EXISTS incidencias;                             
DROP TABLE IF EXISTS jornadas;                                
DROP TABLE IF EXISTS patrones_pesos_factores;                 
DROP TABLE IF EXISTS pesos_factores;                          
DROP TABLE IF EXISTS quinielas;                               
DROP TABLE IF EXISTS quinielas_disponibles_server;            
DROP TABLE IF EXISTS quinielas_partidos;                      
DROP TABLE IF EXISTS quinielas_partidos_disponibles_server;   
DROP TABLE IF EXISTS quinielas_usuarios;                      
DROP TABLE IF EXISTS temporadas;                              
DROP TABLE IF EXISTS usuarios;                                
DROP TABLE IF EXISTS valoresdefecto_equipos_calidadintrinseca;

CREATE TABLE equipos (id varchar PRIMARY KEY  NOT NULL  UNIQUE , nombre varchar NOT NULL );
CREATE TABLE equipos_temporada (id_temporada integer NOT NULL , id_equipo varchar NOT NULL , division integer NOT NULL ,  PRIMARY KEY (id_temporada, id_equipo));
CREATE TABLE equipos_usuarios (id_temporada integer NOT NULL , id_equipo varchar NOT NULL , id_usuario integer NOT NULL, calidad_intrinseca integer NOT NULL,  PRIMARY KEY (id_temporada, id_equipo, id_usuario));
CREATE TABLE incidencias (id integer PRIMARY KEY  AUTOINCREMENT  NOT NULL , cuando TEXT NOT NULL, texto VARCHAR NOT NULL , enviada INTEGER default 0 );
CREATE TABLE jornadas (id integer PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , id_temporada integer NOT NULL, division integer NOT NULL , jornada_num integer NOT NULL , id_local varchar NOT NULL , id_visitante varchar NOT NULL , goles_local integer NOT NULL  DEFAULT 0, goles_visitante integer NOT NULL  DEFAULT 0);
CREATE TABLE patrones_pesos_factores (id integer PRIMARY KEY  NOT NULL  UNIQUE , nombre varchar NOT NULL, id_usuario integer NOT NULL , aleatoriedad integer NOT NULL , calidad_intrinseca integer NOT NULL , factor_campo integer NOT NULL , golaveraje integer NOT NULL , golaveraje_localvisit integer NOT NULL , puntos_partido integer NOT NULL , puntos_partido_localvisit integer NOT NULL , ultimos4 integer NOT NULL , ultimos4_localvisit integer NOT NULL );
CREATE TABLE pesos_factores (id integer PRIMARY KEY  NOT NULL  UNIQUE , id_usuario integer NOT NULL , aleatoriedad integer NOT NULL , calidad_intrinseca integer NOT NULL , factor_campo integer NOT NULL , golaveraje integer NOT NULL , golaveraje_localvisit integer NOT NULL , puntos_partido integer NOT NULL , puntos_partido_localvisit integer NOT NULL , ultimos4 integer NOT NULL , ultimos4_localvisit integer NOT NULL );
CREATE TABLE quinielas (id integer PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , id_temporada integer NOT NULL , fecha integer NOT NULL, nombre varchar, aciertos integer default -1  );
CREATE TABLE quinielas_disponibles_server (id integer PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , id_temporada integer NOT NULL , fecha integer NOT NULL, disponible_correccion bool default 0  );
CREATE TABLE quinielas_partidos (id integer PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , id_quiniela integer NOT NULL, id_local varchar NOT NULL , id_visitante varchar NOT NULL , partido_num integer NOT NULL , resultado_1x2 varchar NOT NULL );
CREATE TABLE quinielas_partidos_disponibles_server (id integer PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE , id_quiniela integer NOT NULL, id_local varchar NOT NULL , id_visitante varchar NOT NULL , partido_num integer NOT NULL , resultado_1x2 varchar  );
CREATE TABLE quinielas_usuarios (id_quiniela integer NOT NULL , id_usuario integer NOT NULL , PRIMARY KEY (id_quiniela, id_usuario));
CREATE TABLE temporadas (id integer PRIMARY KEY  NOT NULL  UNIQUE , nombre VARCHAR NOT NULL );
CREATE TABLE usuarios (id integer PRIMARY KEY  AUTOINCREMENT  NOT NULL , nombre varchar NOT NULL );
CREATE TABLE valoresdefecto_equipos_calidadintrinseca (id_temporada integer NOT NULL , id_equipo varchar NOT NULL , calidad_intrinseca integer NOT NULL,  PRIMARY KEY (id_temporada, id_equipo));

insert into pesos_factores (id_usuario, aleatoriedad, calidad_intrinseca, factor_campo, golaveraje, golaveraje_localvisit, puntos_partido, puntos_partido_localvisit, ultimos4, ultimos4_localvisit) values (6,11,22,33,44,55,66,77,88,99);

insert into temporadas values (1617, '2016/17');

insert into equipos values ('ala', 'Alavés');
insert into equipos values ('ath', 'Ath.Bilbao');
insert into equipos values ('atm', 'At.Madrid');
insert into equipos values ('bar', 'F.C.Barcelona');
insert into equipos values ('bet', 'Betis');
insert into equipos values ('cel', 'Celta');
insert into equipos values ('dep', 'Deportivo');
insert into equipos values ('eib', 'Eibar'); 	
insert into equipos values ('esp', 'Espanyol');
insert into equipos values ('gra', 'Granada');
insert into equipos values ('lpa', 'Las Palmas');
insert into equipos values ('leg', 'Leganés');
insert into equipos values ('mga', 'Málaga');
insert into equipos values ('osa', 'Osasuna');
insert into equipos values ('rma', 'R.Madrid');
insert into equipos values ('rso', 'R.Sociedad');
insert into equipos values ('sev', 'Sevilla C.F.');
insert into equipos values ('gij', 'S.Gijón');
insert into equipos values ('val', 'Valencia');
insert into equipos values ('vil', 'Villarreal');

insert into equipos values ('alc',  'Alcorcón');
insert into equipos values ('alm',  'Almería');
insert into equipos values ('cad',  'Cádiz');
insert into equipos values ('cor',  'Córdoba');
insert into equipos values ('elc',  'Elche');
insert into equipos values ('get',  'Getafe');
insert into equipos values ('gim',  'Gimnàstic');
insert into equipos values ('gir',  'Girona');
insert into equipos values ('hue',  'Huesca');
insert into equipos values ('lev',  'Levante');
insert into equipos values ('lug',  'Lugo');
insert into equipos values ('mca',  'Mallorca');
insert into equipos values ('mir',  'Mirandés');
insert into equipos values ('num',  'Numancia');
insert into equipos values ('rva',  'Rayo Vallecano');
insert into equipos values ('ovi',  'Oviedo');
insert into equipos values ('vad',  'Valladolid');
insert into equipos values ('zar',  'Zaragoza');
insert into equipos values ('reu',  'Reus Deportiu');
insert into equipos values ('sev2', 'Sevilla Atlético');
insert into equipos values ('ten',  'Tenerife');
insert into equipos values ('mur',  'UCAM Murcia');

insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'ala', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'ath', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'atm', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'bar', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'bet', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'cel', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'dep', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'eib', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'esp', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'gra', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'lpa', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'leg', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'mga', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'osa', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'rma', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'rso', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'sev', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'gij', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'val', 1);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'vil', 1);

insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'alc', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'alm', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'cad', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'cor', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'elc', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'get', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'gim', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'gir', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'hue', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'lev', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'lug', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'mca', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'mir', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'num', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'rva', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'ovi', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'vad', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'zar', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'reu', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'sev2', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'ten', 2);
insert into equipos_temporada (id_temporada, id_equipo, division) values (1617, 'mur', 2);

insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'ala', 32);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'ath', 62);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'atm', 88);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'bar', 91);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'bet', 45);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'cel', 60);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'dep', 42);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'eib', 43);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'esp', 43);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'gra', 39);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'lpa', 44);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'leg', 32);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'mga', 48);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'osa', 32);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'rma', 90);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'rso', 48);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'sev', 52);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'gij', 39);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'val', 44);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'vil', 64);

insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'alc', 64);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'alm', 48);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'cad', 32);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'cor', 65);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'elc', 32);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'get', 75);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'gim', 71);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'gir', 66);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'hue', 32);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'lev', 75);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'lug', 54);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'mca', 49);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'mir', 52);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'num', 57);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'rva', 75);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'ovi', 59);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'vad', 51);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'zar', 64);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'reu', 32);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'sev2', 32);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'ten', 55);
insert into valoresdefecto_equipos_calidadintrinseca (id_temporada, id_equipo, calidad_intrinseca) values (1617, 'mur', 32);
